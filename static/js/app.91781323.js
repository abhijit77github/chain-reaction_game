(function(t){function e(e){for(var s,r,c=e[0],a=e[1],l=e[2],d=0,h=[];d<c.length;d++)r=c[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&h.push(o[r][0]),o[r]=0;for(s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s]);u&&u(e);while(h.length)h.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],s=!0,c=1;c<n.length;c++){var a=n[c];0!==o[a]&&(s=!1)}s&&(i.splice(e--,1),t=r(r.s=n[0]))}return t}var s={},o={app:0},i=[];function r(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=s,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(n,s,function(e){return t[e]}.bind(null,s));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],a=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=a;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var s=n("85ec"),o=n.n(s);o.a},"111c":function(t,e,n){"use strict";var s=n("44c4"),o=n.n(s);o.a},"44c4":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("HelloWorld",{attrs:{msg:"Game made by abhijit"},on:{slidebtn:t.run}})],1)},i=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hello"},[t.game_on?t._e():n("div",{staticClass:"row"},[t.paired?t._e():n("div",{staticClass:"input-field col s6 m4"},[n("i",{staticClass:"material-icons prefix"},[t._v("create")]),n("input",{staticClass:"validate",attrs:{id:"icon_prefix",type:"text"}}),n("label",{attrs:{for:"icon_prefix"}},[t._v("Enter room name")])]),t.paired?t._e():n("div",{staticClass:"col  "},[n("button",{staticClass:"waves-effect waves-light btn",on:{click:t.join_room}},[t._v("Create/Join a Room")])]),t.paired&&!t.game_on&&t.creator?n("div",{staticClass:"col  "},[n("button",{staticClass:"waves-effect waves-light btn",on:{click:t.start_game}},[t._v("Start")])]):t._e()]),n("h5",{attrs:{id:"demo"}},[t._v(t._s(t.msg))]),n("div",{staticClass:"row"},[t._m(0),n("div",{staticClass:"col s12 m6 "},[n("div",{staticClass:"row"},[n("div",{staticClass:"grey lighten-3 box"},t._l(t.arr_bx,(function(e,s){return n("div",{key:s,staticClass:"row cst"},t._l(e,(function(e,o){return n("Button",{key:o,attrs:{cnt:e.cnt,nbr:e.nbr.length,user:t.user_clr[e.col],posx:s,posy:o},on:{btnpos:t.get_pos}})})),1)})),0)]),n("div",{staticClass:"row"},[t.turn?n("div",{staticClass:"col"},[n("a",{staticClass:" btn-floating pulse",class:t.get_color()},[n("i",{staticClass:"material-icons"},[t._v("check_circle")])]),n("span",{staticStyle:{"margin-left":"10px"}},[t._v("Now its your turn.")])]):t._e()])]),t._m(1)])])},c=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col s12 m3"},[n("h5",[t._v("How to play the game:")]),n("br"),n("h6",[t._v("this is rules")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col s12 m3"},[n("h4",[t._v("Players")]),n("br")])}],a=(n("4160"),n("159b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"element "},[n("span",{attrs:{id:"unit"}},[n("div",{staticClass:"col waves-effect waves-light btn own",class:[t.user],attrs:{id:t.posx.toString()+t.posy},on:{click:t.btn_id}},[n("div",{class:t.rotation},[t.cnt?n("img",{attrs:{id:"img"+t.posx.toString()+t.posy,height:"30",width:"30"}}):t._e()])])])])}),l=[],u=(n("a9e3"),n("d3b7"),n("25f0"),{name:"Button",props:{msg:String,cnt:Number,nbr:Number,user:String,posx:Number,posy:Number},data:function(){return{rot:!1}},methods:{btn_id:function(){this.$emit("btnpos",[this.posx,this.posy])},ball:function(){}},computed:{rotation:function(){var t=null;return t=this.rot?"rotate":null,t},count:function(){return this.cnt}},updated:function(){var t=document.getElementById("img"+this.posx.toString()+this.posy.toString());this.cnt>=3?t.src="./3ball.png":2==this.cnt?t.src="./2ball.png":1==this.cnt&&(t.src="./1ball.png"),this.cnt==this.nbr-1?this.rot=!0:this.cnt<this.nbr-1&&(this.rot=!1)}}),d=u,h=(n("111c"),n("2877")),f=Object(h["a"])(d,a,l,!1,null,"61fbad48",null),m=f.exports,p={name:"HelloWorld",components:{Button:m},props:{_msg:String},data:function(){return{connected:!0,turn:!1,game_finished:!1,server_msg:null,msg:"welcome",indx:null,user_clr:["grey","teal darken-3","pink darken-3","purple darken-4","deep-orange accent-4"],h:6,w:5,game_id:null,crnt_usr:1,game_on:!1,creator:!1,paired:!1,socket:null,arr_bx:[[{cnt:0,col:0,id:0,x:0,y:0},{cnt:0,col:0,id:0,x:0,y:0},{cnt:0,col:0,id:1,x:0,y:1},{cnt:0,col:0,id:3,x:0,y:2},{cnt:0,col:0,id:4,x:0,y:3}],[{cnt:0,col:0,id:0,x:0,y:0},{cnt:0,col:0,id:10,x:1,y:0},{cnt:0,col:0,id:11,x:1,y:1},{cnt:0,col:0,id:12,x:1,y:2},{cnt:0,col:0,id:13,x:1,y:3}],[{cnt:0,col:0,id:0,x:0,y:0},{cnt:0,col:0,id:0,x:0,y:0},{cnt:0,col:0,id:1,x:0,y:1},{cnt:0,col:0,id:3,x:0,y:2},{cnt:0,col:0,id:4,x:0,y:3}],[{cnt:0,col:0,id:0,x:0,y:0},{cnt:0,col:0,id:10,x:1,y:0},{cnt:0,col:0,id:11,x:1,y:1},{cnt:0,col:0,id:12,x:1,y:2},{cnt:0,col:0,id:13,x:1,y:3}],[{cnt:0,col:0,id:0,x:0,y:0},{cnt:0,col:0,id:0,x:0,y:0},{cnt:0,col:0,id:1,x:0,y:1},{cnt:0,col:0,id:3,x:0,y:2},{cnt:0,col:0,id:4,x:0,y:3}],[{cnt:0,col:0,id:0,x:0,y:0},{cnt:0,col:0,id:10,x:1,y:0},{cnt:0,col:0,id:11,x:1,y:1},{cnt:0,col:0,id:12,x:1,y:2},{cnt:0,col:0,id:13,x:1,y:3}]],sound:null}},methods:{btn_id:function(t,e){this.get_nbh(t,e)},get_nbh:function(t,e){var n=[];return t-1>=0&&n.push([t-1,e]),t+1<this.h&&n.push([t+1,e]),e-1>=0&&n.push([t,e-1]),e+1<this.w&&n.push([t,e+1]),n},next_usr:function(){this.crnt_usr+1>2?this.crnt_usr=1:this.crnt_usr+=1},add_nbr:function(){var t,e;for(t=0;t<this.h;t++)for(e=0;e<this.w;e++)this.arr_bx[t][e].nbr=this.get_nbh(t,e)},move:function(t,e,n){function s(e){i=!0;var n=[];o.forEach((function(s){console.log("elements",s[0],s[1]),e.arr_bx[s[0]][s[1]].cnt++,e.arr_bx[s[0]][s[1]].col=t+1,e.arr_bx[s[0]][s[1]].cnt>=e.arr_bx[s[0]][s[1]].nbr.length&&(i=!1,e.arr_bx[s[0]][s[1]].cnt=0,e.arr_bx[s[0]][s[1]].col=0,e.arr_bx[s[0]][s[1]].nbr.forEach((function(t){n.push(t)})))})),o=n,i||(e.sound.currentTime=0,e.sound.play(),setTimeout(s,300,e))}if(this.arr_bx[e][n].cnt++,this.arr_bx[e][n].col=t+1,this.arr_bx[e][n].cnt>=this.arr_bx[e][n].nbr.length){this.arr_bx[e][n].col=0,this.arr_bx[e][n].cnt=0;var o=this.arr_bx[e][n].nbr,i=!1;i||(this.sound.currentTime=0,this.sound.play(),setTimeout(s,200,this))}},pos_col:function(t,e){return this.arr_bx[t][e].col},start_game:function(){var t={action:"start"};this.socket.send(JSON.stringify(t))},get_pos:function(t){if(this.turn){var e={action:"move",player_move:t};this.socket.send(JSON.stringify(e)),this.turn=!1}else this.msg="This is not your turn.."},get_color:function(){return this.user_clr[this.crnt_usr]},demo:function(){console.log("function called from hooks")},initialize:function(){},join_room:function(){if(this.connected){var t={};document.getElementById("icon_prefix").value?(t={action:"join",game_id:document.getElementById("icon_prefix").value},this.socket.send(JSON.stringify(t))):(t={action:"new"},this.socket.send(JSON.stringify(t)),this.creator=!0)}else this.msg="Not connected"},serverMessage:function(t,e){switch(t){case"open":this.msg="Connected to Game Server";break;case"created":this.game_id=e.game_id,this.msg="ID: "+this.game_id+".  Waiting for Pair to Join..";break;case"color":this.crnt_usr=e.user+1;break;case"started":this.game_on=!0,this.msg="Game Started...";break;case"paired":this.paired=!0,this.msg="One player joined",this.game_id=e;break;case"move":this.move(e.data.user,e.data.x,e.data.y),this.msg="friend's Move...";break;case"turn":this.turn=!0,this.msg="make a move...";break;case"message":this.msg=e.message;break;case"end":this.turn=!1,"W"==e.result?this.msg="You Won. Congrats!":"L"==e.result?this.msg="You Lost.  Better luck next time.":"A"==e.result?this.msg="Game Aborted.":this.msg="Game Ended.";break;case"error":e.message?e.message:this.msg("Error Occured");break;default:this.msg="Unknown Action: "+t}},sendMessage:function(){this.socket.send("hello")},on_open:function(){this.connected="hello",this.msg="Connected to Game Server"},on_close:function(){this.connected="galo",this.msg="Disconnected from Game Server"},on_message:function(t){var e=JSON.parse(t.data),n=e.action,s=e.data;this.serverMessage(n,s)}},mounted:function(){console.log("component mounted")},updated:function(){},created:function(){this.add_nbr(),this.sound=new Audio;var t="ws://"+window.location.host+"/demo/ws";this.socket=new WebSocket(t),this.socket.pass_this=this,this.socket.onopen=this.on_open(),this.socket.onclose=console.log("socket closed fired"),this.socket.onerror=function(){this.connected=!1,this.gameOn=!1,this.msg="Connection Error"},this.socket.onmessage=function(t){this.pass_this.on_message(t)}}},g=p,_=(n("aab4"),Object(h["a"])(g,r,c,!1,null,"4cdbe9dc",null)),b=_.exports,v={name:"App",components:{HelloWorld:b},methods:{run:function(){alert("hello")}}},y=v,x=(n("034f"),Object(h["a"])(y,o,i,!1,null,null,null)),k=x.exports,w=n("0307"),C=n.n(w);s["a"].prototype.$anime=C.a,s["a"].config.productionTip=!1,new s["a"]({render:function(t){return t(k)}}).$mount("#app")},"85ec":function(t,e,n){},aab4:function(t,e,n){"use strict";var s=n("d5a8"),o=n.n(s);o.a},d5a8:function(t,e,n){}});
//# sourceMappingURL=app.91781323.js.map